<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>リヴァプール詳細分析 - キャラクターテスト版 | BSix.com</title>
    <link rel="stylesheet" href="assets/styles/arsenal-chan-inspired.css">
    <link rel="stylesheet" href="assets/styles/home-link.css">
    <style>
        /* キャラクターシステム用の追加スタイル */
        .character-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .character-switch {
            margin: 20px 0;
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.9);
            border-radius: 10px;
            border: 2px dashed #667eea;
        }

        .character-switch select {
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin: 0 10px;
        }

        .character-switch button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 5px;
        }

        .dynamic-content {
            background: rgba(240, 147, 251, 0.1);
            border-left: 4px solid #f093fb;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
            position: relative;
        }

        .dynamic-content::before {
            content: "🎭";
            position: absolute;
            left: -15px;
            top: 10px;
            background: white;
            padding: 5px;
            border-radius: 50%;
        }

        .character-demo {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .demo-section {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255,255,255,0.7);
            border-radius: 5px;
        }

        .liverpool-colors {
            background: linear-gradient(135deg, #C8102E 0%, #00B2A9 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255,255,255,0.9);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #C8102E;
        }

        .player-analysis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .player-card {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #C8102E;
        }

        .player-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #C8102E;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .character-indicator {
                position: relative;
                top: auto;
                right: auto;
                margin: 10px 0;
                text-align: center;
            }
            
            .character-switch {
                padding: 10px;
            }
            
            .character-switch select,
            .character-switch button {
                display: block;
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
    <link rel="stylesheet" href="assets/styles/design-system-generated.css">
</head>
<body>
    <!-- キャラクター表示 -->
    <div class="character-indicator" id="characterIndicator">
        キャラクター: テスト版
    </div>

    <div class="fan-friendly-article">
        <header class="article-header">
            <h1 class="article-title">リヴァプール詳細分析</h1>
            <div class="article-meta">
                🎭 キャラクターシステム テスト版 | 📅 2025年9月21日更新
            </div>
            <div class="home-link-container">
                <a href="index.html" class="home-link">🏠 ホーム</a>
                <a href="stats.html" class="home-link">📊 順位表</a>
                <a href="teams-advanced-stats.html" class="home-link">⚔️ チーム比較</a>
            </div>
        </header>

        <!-- キャラクター切り替えテスト用 -->
        <div class="character-switch">
            <h4>🎭 キャラクターテスト（開発用）</h4>
            <p>後で簡単に変更できるように設計されています</p>
            <select id="characterSelect">
                <option value="test_friendly">テスト版（Arsenal Chan風）</option>
                <option value="professional">プロフェッショナル版（未実装）</option>
                <option value="enthusiastic">熱狂ファン版（未実装）</option>
            </select>
            <button onclick="switchCharacter()">キャラクター変更</button>
            <button onclick="generateDemoContent()">コンテンツ再生成</button>
        </div>

        <!-- 動的に生成される挨拶 -->
        <div class="friendly-greeting" id="dynamicGreeting">
            読み込み中...
        </div>

        <div class="liverpool-colors">
            <h2>🔴 リヴァプール FC - 2025年シーズン分析</h2>
            <p><strong>現在順位: 1位 (15pt) | 5戦全勝の完璧なスタート</strong></p>
        </div>

        <!-- 動的コンテンツセクション -->
        <section class="content-section">
            <h2 class="section-title">📊 今シーズンの成績</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div>試合数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">5</div>
                    <div>勝利</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div>得点</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">2</div>
                    <div>失点</div>
                </div>
            </div>

            <div class="dynamic-content" id="statsAnalysis">
                <!-- キャラクターシステムで生成される分析コメント -->
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">⚽ 主要選手分析</h2>
            
            <div class="player-analysis">
                <div class="player-card">
                    <div class="player-name">モハメド・サラー</div>
                    <p><strong>ポジション:</strong> RW/CF</p>
                    <p><strong>今シーズン:</strong> 7ゴール 3アシスト</p>
                    <p><strong>状態:</strong> 絶好調</p>
                    <div class="dynamic-content" id="salahAnalysis">
                        <!-- キャラクター分析 -->
                    </div>
                </div>

                <div class="player-card">
                    <div class="player-name">ヴィルヒル・ファン・ダイク</div>
                    <p><strong>ポジション:</strong> CB</p>
                    <p><strong>今シーズン:</strong> 1ゴール 1アシスト</p>
                    <p><strong>状態:</strong> 安定</p>
                    <div class="dynamic-content" id="vandijkAnalysis">
                        <!-- キャラクター分析 -->
                    </div>
                </div>

                <div class="player-card">
                    <div class="player-name">アリソン・ベッカー</div>
                    <p><strong>ポジション:</strong> GK</p>
                    <p><strong>今シーズン:</strong> 3クリーンシート</p>
                    <p><strong>状態:</strong> 好調</p>
                    <div class="dynamic-content" id="alissonAnalysis">
                        <!-- キャラクター分析 -->
                    </div>
                </div>
            </div>
        </section>

        <section class="content-section">
            <h2 class="section-title">🎯 戦術分析</h2>
            
            <p><strong>フォーメーション:</strong> 4-3-3</p>
            <p><strong>監督:</strong> アルネ・スロット</p>
            
            <div class="dynamic-content" id="tacticalAnalysis">
                <!-- キャラクターによる戦術分析 -->
            </div>

            <h3>主な戦術的特徴:</h3>
            <ul>
                <li>ポゼッション重視のパスサッカー</li>
                <li>高い位置からのプレッシング</li>
                <li>サイドバックの積極的な攻撃参加</li>
                <li>中盤でのボール循環</li>
            </ul>
        </section>

        <section class="content-section">
            <h2 class="section-title">📈 今後の展望</h2>
            
            <div class="dynamic-content" id="futureOutlook">
                <!-- キャラクターによる展望コメント -->
            </div>

            <h3>注目ポイント:</h3>
            <ul>
                <li>チャンピオンズリーグでの戦い</li>
                <li>冬の移籍市場での補強</li>
                <li>主力選手の怪我リスク管理</li>
                <li>若手選手の成長</li>
            </ul>
        </section>

        <!-- キャラクターデモセクション -->
        <div class="character-demo">
            <h3>🎭 キャラクターシステム デモ</h3>
            <p>以下のコンテンツは、選択されたキャラクターに応じて自動生成されます：</p>
            
            <div class="demo-section">
                <strong>挨拶:</strong> <span id="demoGreeting"></span>
            </div>
            <div class="demo-section">
                <strong>チーム反応（勝利時）:</strong> <span id="demoTeamGood"></span>
            </div>
            <div class="demo-section">
                <strong>チーム反応（敗北時）:</strong> <span id="demoTeamBad"></span>
            </div>
            <div class="demo-section">
                <strong>感情表現（興奮）:</strong> <span id="demoExcitement"></span>
            </div>
            <div class="demo-section">
                <strong>感情表現（思考）:</strong> <span id="demoThinking"></span>
            </div>
        </div>

        <div class="related-articles">
            <div class="related-title">🔗 関連記事</div>
            <div class="related-links">
                <a href="teams-advanced-stats.html" class="related-link">⚔️ Big 6チーム完全比較</a>
                <a href="sample-fan-friendly-article.html" class="related-link">📰 Arsenal Chan風記事サンプル</a>
                <a href="stats.html" class="related-link">📊 最新順位表</a>
            </div>
        </div>

        <div class="dynamic-content" id="closingMessage">
            <!-- キャラクターによる締めくくりメッセージ -->
        </div>
    </div>

    <script src="assets/js/character-system.js"></script>
    <script>
        // キャラクターシステムの初期化と動的コンテンツ生成
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎭 リヴァプール キャラクターテストページ読み込み完了');
            
            // 初期コンテンツの生成
            generateDynamicContent();
            updateCharacterIndicator();
            
            // デモコンテンツの生成
            generateDemoContent();
        });

        function generateDynamicContent() {
            if (!window.BSixCharacter) {
                console.warn('キャラクターシステムが読み込まれていません');
                return;
            }

            // 挨拶の生成
            const greeting = BSixCharacter.greet();
            document.getElementById('dynamicGreeting').innerHTML = 
                `${greeting} 今日はリヴァプールの詳細分析をお届けするよ〜 ⚽`;

            // 統計分析コメント
            const statsComment = BSixCharacter.process(
                "5戦全勝は本当に素晴らしいスタートだね。特に失点がたった2点というのが、スロット監督の守備戦術の成功を物語ってる。"
            );
            document.getElementById('statsAnalysis').innerHTML = statsComment;

            // 選手分析コメント
            const salahComment = BSixCharacter.process(
                "サラーの7ゴール3アシストは圧倒的だよね。30歳を超えてもまだまだ衰えを知らない。"
            );
            document.getElementById('salahAnalysis').innerHTML = salahComment;

            const vandijkComment = BSixCharacter.process(
                "ファン・ダイクの安定感は相変わらず抜群。リーダーシップも含めて、チームの精神的支柱だね。"
            );
            document.getElementById('vandijkAnalysis').innerHTML = vandijkComment;

            const alissonComment = BSixCharacter.process(
                "アリソンの3クリーンシートも見逃せない。ゴールキーパーの安定感がチーム全体の自信につながってる。"
            );
            document.getElementById('alissonAnalysis').innerHTML = alissonComment;

            // 戦術分析
            const tacticalComment = BSixCharacter.process(
                "スロット監督の4-3-3は、クロップ時代とは違ってポゼッション重視。でも攻撃的な姿勢は変わらず、見ていて楽しいサッカーだよ。"
            );
            document.getElementById('tacticalAnalysis').innerHTML = tacticalComment;

            // 今後の展望
            const outlookComment = BSixCharacter.process(
                "このペースを維持できれば、プレミアリーグ優勝も夢じゃない。ただし、チャンピオンズリーグとの両立が課題になりそう。"
            );
            document.getElementById('futureOutlook').innerHTML = outlookComment;

            // 締めくくりメッセージ
            const closingComment = BSixCharacter.process(
                "リヴァプールファンにとっては最高のスタートだね。この調子で頑張ってほしい！みんなはどう思う？"
            );
            document.getElementById('closingMessage').innerHTML = closingComment;
        }

        function generateDemoContent() {
            if (!window.BSixCharacter) return;

            document.getElementById('demoGreeting').textContent = BSixCharacter.greet();
            document.getElementById('demoTeamGood').textContent = BSixCharacter.teamReact('liverpool', 'good');
            document.getElementById('demoTeamBad').textContent = BSixCharacter.teamReact('liverpool', 'bad');
            document.getElementById('demoExcitement').textContent = BSixCharacter.express('excitement');
            document.getElementById('demoThinking').textContent = BSixCharacter.express('thinking');
        }

        function switchCharacter() {
            const select = document.getElementById('characterSelect');
            const newCharacter = select.value;
            
            if (BSixCharacter.switch(newCharacter)) {
                updateCharacterIndicator();
                generateDynamicContent();
                generateDemoContent();
                alert(`キャラクターを「${newCharacter}」に変更しました！`);
            } else {
                alert('キャラクターの変更に失敗しました。');
            }
        }

        function updateCharacterIndicator() {
            const profile = BSixCharacter.profile();
            document.getElementById('characterIndicator').textContent = 
                `キャラクター: ${profile.character}`;
        }

        // 設定のエクスポート/インポート機能（開発用）
        function exportSettings() {
            const settings = BSixCharacter.export();
            console.log('現在のキャラクター設定:', settings);
            
            // ダウンロード機能
            const blob = new Blob([settings], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'bsix-character-settings.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // コンソールでのテスト用関数
        window.testCharacterSystem = {
            export: exportSettings,
            switch: switchCharacter,
            regenerate: generateDynamicContent,
            demo: generateDemoContent,
            profile: () => console.log(BSixCharacter.profile()),
            test: (team, situation) => console.log(BSixCharacter.testSentence(team, situation))
        };

        console.log('🎭 テスト用関数が利用可能です:');
        console.log('- testCharacterSystem.export() : 設定をエクスポート');
        console.log('- testCharacterSystem.switch() : キャラクター切り替え');
        console.log('- testCharacterSystem.test("liverpool", "good") : テスト文章生成');
    </script>
</body>
</html>
